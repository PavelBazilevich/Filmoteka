{"mappings":"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","sources":["src/library.js","src/js/renderLibrary.js","src/js/markupFilmsLib.js","src/js/modal_movie_Library.js"],"sourcesContent":["import './js/api';\nimport './js/students-modal';\nimport './js/dark-theme';\nimport './js/renderLibrary'\nimport './js/modal_movie_Library';\nimport './js/back-to-top';\nimport './js/typed';\n\n","import { renderLibraryPagination } from './pagination';\nimport markupFilmsLib from './markupFilmsLib';\nconst refs = {\n  btnWatched: document.querySelector('.watched'),\n  btnQueue: document.querySelector('.queue'),\n  films: document.querySelector('.films'),\n  plug: document.querySelector('.plug'),\n  pagination: document.querySelector('.tui-pagination'),\n};\n\nrefs.btnWatched.addEventListener('click', getWatched);\nrefs.btnQueue.addEventListener('click', getQueue);\n\ngetWatched();\nfunction getWatched() {\n  refs.films.innerHTML = '';\n  const parsItem = JSON.parse(localStorage.getItem('watched'));\n  refs.films.classList.remove('queue');\n  refs.films.classList.add('watched');\n\n  if (parsItem !== null && parsItem.length !== 0) {\n    refs.plug.style.display = 'none';\n    refs.films.innerHTML = markupFilmsLib(parsItem.slice(0, 20));\n    renderLibraryPagination('watched', films => {\n      refs.films.innerHTML = markupFilmsLib(films);\n    });\n  } else {\n    refs.plug.style.display = 'flex';\n    refs.films.innerHTML = '';\n    refs.pagination.style.display = 'none';\n  }\n  refs.btnQueue.classList.remove('is-active');\n  refs.btnWatched.classList.add('is-active');\n}\n\nfunction getQueue() {\n  refs.films.innerHTML = '';\n  const parsItem = JSON.parse(localStorage.getItem('queue'));\n  refs.films.classList.remove('watched');\n  refs.films.classList.add('queue');\n  \n  if (parsItem !== null && parsItem.length !== 0) {\n    refs.plug.style.display = 'none';\n    refs.films.innerHTML = markupFilmsLib(parsItem.slice(0, 20));\n    renderLibraryPagination('queue', films => {\n      refs.films.innerHTML = markupFilmsLib(films);\n    });\n  } else {\n    refs.plug.style.display = 'flex';\n    refs.films.innerHTML = '';\n    refs.pagination.style.display = 'none';\n  }\n  refs.btnQueue.classList.add('is-active');\n  refs.btnWatched.classList.remove('is-active');\n}\n\nexport { getWatched, getQueue };\n","export default function markupFilmsLib(results) {\n  return results\n    .map(\n      ({\n        poster_path,\n        original_title,\n        vote_average,\n        release_date,\n        title,\n        id,\n        genres,\n      }) => {\n        let arrayGenre = [];\n        let arrayGenereString = '';\n        let url = 'https://image.tmdb.org/t/p/w500/';\n        let year = String(release_date).slice(0, 4);\n\n        if (poster_path === null) {\n          url = 'https://i.postimg.cc/L8fCW6RZ/repetajpg.jpg';\n          poster_path = '';\n        }\n        if (release_date === '' || !release_date) {\n          year = 'No information';\n        }\n        if (genres.length === 0) {\n          arrayGenre.push('No information');\n        }\n        genres.map(genre => {\n          arrayGenre.push(genre.name);\n\n          if (arrayGenre.length > 2) {\n            arrayGenre = arrayGenre.slice(0, 2);\n            arrayGenre.push('Other');\n          }\n          arrayGenereString = arrayGenre.join(', ');\n        });\n\n        return `<li class=\"films__item\" data-id=${id}>\n          <a href=\"\" class=\"films__item-link\">\n            <div class=\"poster__thumb\">\n              <img src=\"${url}${poster_path}\" loading=\"lazy\" alt=\"${original_title}\" class=\"poster__foto\" />\n            </div>\n              <div class=\"poster__about\">\n                <p class=\"poster__title\">${title}</p>\n                  <div class=\"poster__description\">\n                <p class=\"poster__genre\">${arrayGenereString}</p>\n                <p class=\"poster__year\">${year}</p>\n                \n                </div>\n              </div>\n\n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n}\n","import '../sass/components/_modal_movie.scss';\nimport Api from './api';\nimport { getWatched, getQueue } from './renderLibrary';\n\nconst filmsContainer = document.querySelector('.films');\nconst backdropEl = document.querySelector('.modal-movie');\nconst modalContainer = document.querySelector('.modal__container');\nconst backdropFooterEl = document.querySelector('[data-backdrop]');\nconst backdropMovie = document.querySelector('.backdrop');\nconst films = document.querySelector('.films');\n\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst api = new Api();\n\nfilmsContainer.addEventListener('click', onFilmCardClick);\n\nfunction onFilmCardClick(evt) {\n  evt.preventDefault();\n  if (evt.target.nodeName !== 'IMG') {\n    return;\n  }\n  document.body.style.overflow = 'hidden';\n  window.addEventListener('keydown', onCloseModalMovieFromKey);\n  backdropMovie.addEventListener('click', onCloseModalMovieFromClick);\n  backdropEl.classList.remove('is-hidden');\n  backdropFooterEl.classList.remove('is-hidden');\n  const currentMovieId = evt.target.closest('li').dataset.id;\n  const folder = films.classList.contains('watched') ? 'watched' : 'queue';\n  let moviesArraySavedInLS = localStorage.getItem(folder);\n  moviesArraySavedInLS = JSON.parse(moviesArraySavedInLS);\n  const arrayOfMovies = moviesArraySavedInLS.find(\n    movie => Number(currentMovieId) === movie.id\n  );\n  api.movieToSave = arrayOfMovies;\n  renderMovieModal(arrayOfMovies);\n  document.body.classList.add('no-scroll');\n}\n\nfunction renderMovieModal(data) {\n  const {\n    poster_path,\n    original_title,\n    title,\n    id,\n    vote_average,\n    vote_count,\n    genres,\n    overview,\n    popularity,\n  } = data;\n  const genresRender = genres\n    .map(genre => {\n      return genre.name;\n    })\n    .join(', ');\n  const markUp = `\n    <img\n        class=\"modal__image\"\n        src=\"${\n          poster_path\n            ? IMG_URL + poster_path\n            : 'https://i.postimg.cc/L8fCW6RZ/repetajpg.jpg'\n        }\"\n        alt=\"${title ? title : 'Image'}\"\n        width=\"240\"\n        height=\"357\"\n      />\n      <div class=\"modal__info-box\">\n        <p class=\"modal__title\">${title ? title : 'No information'}</p>\n        <div class=\"modal__features-box\">\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Vote / Votes</p>\n            <div class=\"modal__values-box\">\n              <p class=\"modal__value-numbers modal__value-numbers--accent\">${\n                vote_average ? vote_average.toFixed(1) : '---'\n              }</p>\n              <span class=\"modal__slash\">/</span>\n              <p class=\"modal__value-numbers modal__value-numbers--simple\">${\n                vote_count ? vote_count : '---'\n              }</p>\n            </div>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Popularity</p>\n            <p class=\"modal__value-numbers\">${\n              popularity ? popularity.toFixed(1) : '---'\n            }</p>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Original Title</p>\n            <p class=\"modal__value-text modal__value--main-text\">${\n              original_title ? original_title : 'No information'\n            }</p>\n          </div>\n          <div class=\"modal__features-issues\">\n            <p class=\"modal__keys\">Genre</p>\n            <p class=\"modal__value-text\">${\n              genresRender ? genresRender : 'No information'\n            }</p>\n          </div>\n        </div>\n        <p class=\"modal__about-title\">About</p>\n        <p class=\"modal__about-text\">${\n          overview ? overview : 'No information'\n        }</p>\n        <div class=\"modal__bottom-thumb\">\n          <div class=\"modal__btn-box\">\n          <button class=\"modal__btn\" type=\"button\" data-type=\"watched\" data-id=${id}>add to watched</button>\n          <button class=\"modal__btn\" type=\"button\" data-type=\"queue\" data-id=${id}>add to queue</button>\n          </div>\n        </div>\n     \n      </div>`;\n  modalContainer.innerHTML = markUp;\n  initBtns(id);\n  modalBtnsToProcess();\n}\n\nfunction initBtns(movieId) {\n  const watchedBtn = document.querySelector('button[data-type=\"watched\"]');\n  const queueBtn = document.querySelector('button[data-type=\"queue\"]');\n  let savedInLSMoviesWatched = localStorage.getItem('watched');\n  if (savedInLSMoviesWatched) {\n    savedInLSMoviesWatched = JSON.parse(savedInLSMoviesWatched);\n    let map = savedInLSMoviesWatched.map(movie => {\n      return movie.id;\n    });\n    let index = map.indexOf(Number(movieId));\n    if (index >= 0) {\n      watchedBtn.classList.add('active');\n      watchedBtn.style.backgroundColor = '#ff6b08';\n      watchedBtn.textContent = 'remove from watched';\n    }\n  }\n\n  let savedInLSMoviesQueue = localStorage.getItem('queue');\n  if (savedInLSMoviesQueue) {\n    savedInLSMoviesQueue = JSON.parse(savedInLSMoviesQueue);\n    let map = savedInLSMoviesQueue.map(movie => {\n      return movie.id;\n    });\n    let index = map.indexOf(Number(movieId));\n    if (index >= 0) {\n      queueBtn.classList.add('active');\n      queueBtn.style.backgroundColor = '#ff6b08';\n      queueBtn.textContent = 'remove from queue';\n    }\n  }\n}\n\nfunction modalBtnsToProcess() {\n  const watchedBtn = document.querySelector('button[data-type=\"watched\"]');\n  const queueBtn = document.querySelector('button[data-type=\"queue\"]');\n  watchedBtn.addEventListener('click', onWatchedFilmsToSaveClick);\n  queueBtn.addEventListener('click', onQueueFilmsToSaveClick);\n\n  function onWatchedFilmsToSaveClick(evt) {\n    evt.preventDefault();\n    watchedBtn.classList.toggle('active');\n    initWatchedLS(watchedBtn.dataset.id);\n    if(films.classList.contains('watched')) {\n      getWatched()};\n    btnWatchedTextContentToChange();\n  }\n\n  function onQueueFilmsToSaveClick(evt) {\n    evt.preventDefault();\n    queueBtn.classList.toggle('active');\n    initQueueLS(queueBtn.dataset.id);\n    if(films.classList.contains('queue')) {\n      getQueue()};\n    btnQueueTextContentToChange();\n  }\n\n  function btnWatchedTextContentToChange() {\n    if (watchedBtn.classList.contains('active')) {\n      watchedBtn.textContent = 'remove from watched';\n      watchedBtn.style.backgroundColor = '#ff6b08';\n    } else {\n      watchedBtn.textContent = 'add to watched';\n      watchedBtn.style.backgroundColor = '#fff';\n    }\n  }\n\n  function btnQueueTextContentToChange() {\n    if (queueBtn.classList.contains('active')) {\n      queueBtn.textContent = 'remove from queue';\n      queueBtn.style.backgroundColor = '#ff6b08';\n    } else {\n      queueBtn.textContent = 'add to queue';\n      queueBtn.style.backgroundColor = '#fff';\n    }\n  }\n}\n\nfunction initWatchedLS(currentMovieId) {\n  const savedMovie = api.movieToSave;\n  let moviesArrayToSave = [];\n  let savedInLSMovies = localStorage.getItem('watched');\n  if (!savedInLSMovies) {\n    moviesArrayToSave.push(savedMovie);\n    localStorage.setItem('watched', JSON.stringify(moviesArrayToSave));\n    return;\n  } else {\n    savedInLSMovies = JSON.parse(savedInLSMovies);\n    let map = savedInLSMovies.map(movie => {\n      return movie.id;\n    });\n    let index = map.indexOf(Number(currentMovieId));\n    if (index < 0) {\n      moviesArrayToSave.push(...savedInLSMovies, savedMovie);\n      localStorage.setItem('watched', JSON.stringify(moviesArrayToSave));\n    } else {\n      let newArray = [];\n      savedInLSMovies.splice(index, 1);\n      moviesArrayToSave = savedInLSMovies;\n      localStorage.setItem('watched', JSON.stringify(moviesArrayToSave));\n    }\n\n    if (savedInLSMovies.length < 1) {\n      localStorage.removeItem('watched');\n    }\n  }\n}\n\nfunction initQueueLS(currentMovieId) {\n  const savedMovie = api.movieToSave;\n  let moviesArrayToSave = [];\n  let savedInLSMovies = localStorage.getItem('queue');\n  if (!savedInLSMovies) {\n    moviesArrayToSave.push(savedMovie);\n    localStorage.setItem('queue', JSON.stringify(moviesArrayToSave));\n    return;\n  } else {\n    savedInLSMovies = JSON.parse(savedInLSMovies);\n    let map = savedInLSMovies.map(movie => {\n      return movie.id;\n    });\n    let index = map.indexOf(Number(currentMovieId));\n    if (index < 0) {\n      moviesArrayToSave.push(...savedInLSMovies, savedMovie);\n      localStorage.setItem('queue', JSON.stringify(moviesArrayToSave));\n    } else {\n      let newArray = [];\n      savedInLSMovies.splice(index, 1);\n      moviesArrayToSave = savedInLSMovies;\n      localStorage.setItem('queue', JSON.stringify(moviesArrayToSave));\n    }\n\n    if (savedInLSMovies.length < 1) {\n      localStorage.removeItem('queue');\n    }\n  }\n}\n\nconst closeModalMovieBtn = document.querySelector('.modal-movie__close-button');\ncloseModalMovieBtn.addEventListener('click', modalMovieClose);\n\nfunction modalMovieClose() {\n  document.body.style.overflow = '';\n  window.removeEventListener('keydown', onCloseModalMovieFromKey);\n  backdropMovie.removeEventListener('click', onCloseModalMovieFromClick);\n  backdropFooterEl.classList.add('is-hidden');\n  backdropEl.classList.add('is-hidden');\n  document.body.style.overflow = '';\n  modalContainer.innerHTML = '';\n}\n\nfunction onCloseModalMovieFromKey(event) {\n  if (event.code === 'Escape') {\n    backdropFooterEl.classList.add('is-hidden');\n    backdropEl.classList.add('is-hidden');\n    document.body.style.overflow = '';\n  }\n}\n\nfunction onCloseModalMovieFromClick(event) {\n  if (event.target === event.currentTarget) {\n    backdropFooterEl.classList.add('is-hidden');\n    backdropEl.classList.add('is-hidden');\n    document.body.style.overflow = '';\n  }\n}\n"],"names":["parcelRequire","$jcFG7","$c8fea678acfa99be$export$2e2bcd8739ae039","results","map","param","poster_path","original_title","release_date","vote_average","title","id","genres","arrayGenre","arrayGenereString","url","year","String","slice","length","push","genre","name","join","concat","$de0794a6052de9d2$var$refs","btnWatched","document","querySelector","btnQueue","films","plug","pagination","$de0794a6052de9d2$export$f27434f777dd4ed3","innerHTML","parsItem","JSON","parse","localStorage","getItem","classList","remove","add","style","display","renderLibraryPagination","$de0794a6052de9d2$export$72df2e7d05d2bf3","addEventListener","$8nrFW","$daa0d5eae844b7af$var$filmsContainer","$daa0d5eae844b7af$var$backdropEl","$daa0d5eae844b7af$var$modalContainer","$daa0d5eae844b7af$var$backdropFooterEl","$daa0d5eae844b7af$var$backdropMovie","$daa0d5eae844b7af$var$films","$daa0d5eae844b7af$var$IMG_URL","$daa0d5eae844b7af$var$api","$b7ONl","default","$daa0d5eae844b7af$var$onCloseModalMovieFromKey","event","code","body","overflow","$daa0d5eae844b7af$var$onCloseModalMovieFromClick","target","currentTarget","evt","preventDefault","nodeName","window","currentMovieId","closest","dataset","folder","contains","moviesArraySavedInLS","arrayOfMovies","find","movie","Number","movieToSave","data","vote_count","overview","popularity","genresRender","markUp","toFixed","movieId","watchedBtn","queueBtn","savedInLSMoviesWatched","indexOf","backgroundColor","textContent","savedInLSMoviesQueue","$daa0d5eae844b7af$var$initBtns","onWatchedFilmsToSaveClick","toggle","savedMovie","moviesArrayToSave","savedInLSMovies","setItem","stringify","_moviesArrayToSave","index","apply","$parcel$interopDefault","splice","removeItem","$daa0d5eae844b7af$var$initWatchedLS","btnWatchedTextContentToChange","onQueueFilmsToSaveClick","$daa0d5eae844b7af$var$initQueueLS","btnQueueTextContentToChange","$daa0d5eae844b7af$var$modalBtnsToProcess","removeEventListener"],"version":3,"file":"library.3d73bbc1.js.map"}